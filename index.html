<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyCirkle Loyalty</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <!-- Footer (always visible, positioned fixed) -->
    <footer class="footer">
        ¬© Cirkle Development 2025 - Followed by MyCirkleDevelopment Account | mycirkle@cirkledevelopment.co.uk
    </footer>

    <!-- Home Page -->
    <section id="home" class="page active">
        <div class="hero-container">
            <div class="logo-large">MyCirkle</div>
            <h1 class="hero-title">Your Loyalty, Rewarded</h1>
            <p class="hero-subtitle">Join MyCirkle and unlock exclusive rewards, perks, and special offers tailored just for you.</p>
            <button id="login-btn" class="btn-discord">
                <svg class="discord-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.865-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
                </svg>
                Log in with Discord
            </button>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üéÅ</div>
                    <h3>Earn Rewards</h3>
                    <p>Collect points with every purchase and activity</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚≠ê</div>
                    <h3>Exclusive Perks</h3>
                    <p>Access special offers and discounts</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéØ</div>
                    <h3>Track Progress</h3>
                    <p>Monitor your points and achievements</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Login Page (brief, redirects to Discord) -->
    <section id="login" class="page">
        <p>Redirecting to Discord...</p>
    </section>

    <!-- Loading Profile -->
    <section id="loading-profile" class="page">
        <div class="loading-text">Searching Profile...</div>
        <div class="profile-found hidden">
            <img id="profile-icon" src="" alt="Profile" class="profile-img">
            <h2 id="profile-name"></h2>
            <p>Profile Found!</p>
        </div>
    </section>

    <!-- Create Account: Name -->
    <section id="create-name" class="page">
        <h2>Welcome to MyCirkle! Let's create an account for you.</h2>
        <input type="text" id="first-name" placeholder="First Name">
        <input type="text" id="last-name" placeholder="Last Name">
        <button id="continue-name" class="btn-primary">Continue</button>
    </section>

    <!-- Create Account: Password -->
    <section id="create-pass" class="page">
        <h2>Please insert a password</h2>
        <input type="password" id="user-password" placeholder="Password">
        <button id="submit-pass" class="btn-primary">Submit</button>
    </section>

    <!-- Confirmation Screens -->
    <section id="confirm" class="page">
        <div class="confirm-step active" id="confirm-details">
            <p>We are just confirming your details...</p>
        </div>
        <div class="confirm-step hidden" id="setup-portal">
            <p>We are now setting up your portal...</p>
        </div>
        <div class="confirm-step hidden" id="patience">
            <p>Thank you for your patience</p>
            <div class="spinner"></div>
        </div>
    </section>

    <!-- Welcome Popup over Dashboard -->
    <section id="welcome-popup" class="page modal-overlay">
        <div class="modal">
            <h2>Howdy, <span id="welcome-name"></span>! Welcome to your new MyCirkle portal. Let's take a look around!</h2>
            <button id="lets-go" class="btn-primary">Let's Go!</button>
        </div>
    </section>

    <!-- Dashboard (Main Menu) -->
    <section id="dashboard" class="page">
        <header class="header">MyCirkleDevelopment Loyalty</header>
        <div class="profile-header">
            <img id="dash-profile-img" src="" alt="Profile" class="profile-img">
            <div>
                <h2 id="dash-profile-name"></h2>
                <p id="member-since" class="grey-text">Member since: ...</p>
            </div>
        </div>
        <div class="menu-grid">
            <button class="menu-btn" data-page="rewards">Rewards and Points</button>
            <button class="menu-btn" data-page="faq">FAQ</button>
            <button class="menu-btn" data-page="products">My Products</button>
            <button class="menu-btn" data-page="account">Account Details</button>
            <button class="menu-btn" data-page="loyalty">Loyalty Card</button>
        </div>
        <button id="logout-btn" class="btn-logout">Log Out</button>
    </section>

    <!-- Rewards and Points -->
    <section id="rewards" class="page">
        <header class="header">Rewards and Points</header>
        <div class="progress-section">
            <p>Available Points: <span id="available-points">0</span></p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
        <div class="target-section">
            <label>Set Target: </label>
            <select id="target-select">
                <option value="100">100</option>
                <option value="200">200</option>
                <option value="500">500</option>
                <option value="750">750</option>
                <option value="1000">1000</option>
                <option value="1500">1500</option>
                <option value="2000">2000</option>
            </select>
        </div>
        <h3>Available Rewards</h3>
        <div class="rewards-grid">
            <div class="reward-item daily-reward">
                <span>üéÅ DAILY REWARD:</span>
                <p id="daily-reward-text">10% off</p>
                <button class="redeem-btn">Redeem Now!</button>
            </div>
            <div class="reward-item">
                <span>10% off next product</span>
                <p>500 points</p>
                <button class="redeem-btn">Redeem Now!</button>
            </div>
            <div class="reward-item">
                <span>Free Product</span>
                <p>2000 points</p>
                <button class="redeem-btn">Redeem Now!</button>
            </div>
            <div class="reward-item">
                <span>40% off a commission</span>
                <p>750 points</p>
                <button class="redeem-btn">Redeem Now!</button>
            </div>
        </div>
    </section>

    <!-- Redeem Screen -->
    <section id="redeem" class="page">
        <header class="header">Redeem Reward</header>
        <div class="scratch-card">
            <h3>It's all yours, <span id="redeem-name"></span>!</h3>
            <canvas id="scratch-canvas" width="300" height="150"></canvas>
            <div id="code-reveal" class="hidden">
                <p class="code-text">Your 24-digit code: <span id="reward-code"></span></p>
            </div>
            <p>Use this code to redeem your reward by opening a ticket in the MyCirkle Category. Please save it before exiting.</p>
            <button id="exit-redeem" class="btn-primary">Exit</button>
        </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="page">
        <header class="header">FAQ</header>
        <div class="faq-grid">
            <details class="faq-item">
                <summary>Terms & Conditions</summary>
                <p><a href="https://shop.cirkledevelopment.co.uk/mycirkle" target="_blank">View our complete Terms & Conditions</a></p>
            </details>
            <details class="faq-item">
                <summary>Lost Account Details</summary>
                <p>TBA - mycirkle@cirkledevelopment.co.uk</p>
            </details>
            <details class="faq-item">
                <summary>What is MyCirkle?</summary>
                <p>TBA</p>
            </details>
        </div>
    </section>

    <!-- My Products -->
    <section id="products" class="page">
        <header class="header">My Products</header>
        <div id="products-list" class="products-grid"></div>
    </section>

    <!-- Product Detail Modal -->
    <div id="product-modal" class="modal-overlay hidden">
        <div class="modal">
            <img id="detail-img" src="" alt="">
            <h3 id="detail-name"></h3>
            <p id="detail-price"></p>
            <p id="detail-desc"></p>
            <p id="detail-payment"></p>
            <p id="detail-date"></p>
            <button id="close-detail" class="btn-primary">Close</button>
        </div>
    </div>

    <!-- Account Details -->
    <section id="account" class="page">
        <header class="header">Account Details</header>
        <div class="account-form">
            <label>Display Name: <input type="text" id="edit-name"></label>
            <label>Password: <input type="password" id="edit-pass"></label>
            <label>Email: <input type="email" id="edit-email"></label>
            <button id="save-account" class="btn-primary">Save Changes</button>
            <button id="reset-account" class="btn-danger">Reset Account</button>
        </div>
    </section>

    <!-- Reset Confirmation Modal -->
    <div id="reset-modal" class="modal-overlay hidden">
        <div class="modal">
            <h3>Are you sure?</h3>
            <p>This will reset your account and log you out.</p>
            <button id="confirm-reset" class="btn-danger">Yes</button>
            <button id="cancel-reset" class="btn-primary">No</button>
        </div>
    </div>

    <!-- Reset Loading -->
    <section id="reset-loading" class="page">
        <div class="reset-bg"></div>
        <p>Resetting. This may take a while...</p>
        <div class="spinner large"></div>
    </section>

    <!-- Loyalty Card -->
    <section id="loyalty" class="page">
        <header class="header">Loyalty Card</header>
        <div class="card-container">
            <div id="loyalty-card" class="loyalty-card">
                <div class="card-front">
                    <span id="card-name"></span>
                    <span class="card-brand">MyCirkle</span>
                    <div class="barcode">||| ||| ||| (Scan for ID)</div>
                </div>
                <div class="card-back">
                    <h4>Account ID: <span id="account-id"></span></h4>
                    <p>Name: <span id="back-name"></span></p>
                    <p>Email: <span id="back-email"></span></p>
                    <p>Total Points: <span id="back-points">0</span></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Logout Loading -->
    <section id="logout-loading" class="page">
        <p>Logging you out...</p>
        <div class="spinner"></div>
    </section>

    <script src="./script.js"></script>
</body>
</html>